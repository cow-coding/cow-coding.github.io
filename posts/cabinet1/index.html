<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발" /><meta property="og:locale" content="en" /><meta name="description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><meta property="og:description" content="A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation." /><link rel="canonical" href="https://cow-coding.github.io/posts/cabinet1/" /><meta property="og:url" content="https://cow-coding.github.io/posts/cabinet1/" /><meta property="og:site_name" content="Coding Gallery" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-04T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="TXb5nWUV5Ag0O8EVGMTUS11ZVi7BYOensPMiRdQGNRg" /> <script type="application/ld+json"> {"description":"A minimal, portfolio, sidebar, bootstrap Jekyll theme with responsive web design and focuses on text presentation.","url":"https://cow-coding.github.io/posts/cabinet1/","@type":"BlogPosting","headline":"[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발","dateModified":"2022-01-14T02:41:57+09:00","datePublished":"2021-02-04T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://cow-coding.github.io/posts/cabinet1/"},"@context":"https://schema.org"}</script><title>[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발 | Coding Gallery</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Coding Gallery"><meta name="application-name" content="Coding Gallery"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4761810170892865" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/my_img/icebear.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Coding Gallery</a></div><div class="site-subtitle font-italic">마침표를 찍고 조금 더 멀리</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/cow-coding" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['kbp0237','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/cow-coding">Park Kibum</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-02-04 00:00:00 +0900" data-toggle="tooltip" data-placement="bottom" title="Thu, Feb 4, 2021, 12:00 AM +0900" >Feb 4, 2021</em> </span> <span> Updated <em class="timeago" date="2022-01-14 02:41:57 +0900 " data-toggle="tooltip" data-placement="bottom" title="Fri, Jan 14, 2022, 2:41 AM +0900" >Jan 14, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2326 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><style> img { display:block; margin:0px auto; }</style><h1 id="시작하며">시작하며</h1><p>이번에 학과에서 회장을 맡게되면서 해결해야할 여러 문제들이 많이 생겼다. 사실 이 문제들은 모든게 코로나때문에 생겨난 문제들이다.<br /> 작년부터 갑자기 모든 것들이 비대면으로 진행되면서 학생들을 대상으로하는 여러 업무처리가 대부분 대면으로만 있던 것들이 결국 발목을 잡았다.<br /> 그 중 가장 큰 문제 중 하나가 바로 학생들의 사물함을 배정하는 일이었다. 사실 랜덤으로 지정해도 된다고 생각할 지 모르지만 엄연히 본인들이 자치비를 지불하고 사용하는 것이라 본인들이 선택권을 갖는 것이 맞다고 생각한다.<br /> 그래서 이번 기회에 사물함을 본인이 골라서 선택하는 웹 어플리케이션을 개발하자고 생각했다. 전체적인 풀스택 개발경험을 가질 수 있는 토이 프로젝트라고 생각되기도 한다.</p><h1 id="고려할-점">고려할 점</h1><p>우선 학과 학생들을 대상으로 하는 어플리케이션이니 고려해야할 것들이 많다.</p><ol><li>우선 가장 걱정되는건 상대는 컴퓨터공학과 학생들이라는 점이다.<br /> 허술한 웹 어플리케이션을 만들고 배포해서 사용한다면 이런 점을 뚫어내려하는 사람들이 존재할 것이 분명하다. 보안적인 측면도 어느정도 고려를 해야할 것 같다.<li>어떤 서버언어를 사용할 것인가?<br /> spring boot, Node.js, Golang이 내가 머릿속에 리스트에 올려둔 서버개발 언어들이다. 하지만 spring boot는 책을 보면서 공부하는 것도 굉장히 힘들어 하는 상황이다. 일단 진입장벽이 높다는 점은 누구나 인정하는 것이니 말이다.<br /> 그래서 요즘 핫하다는 Golang을 해보려 했으나…. Golang으로 web서버를 개발하는 것은 자료를 찾기가 생각보다 어려웠다. 그리고 무엇보다 서버언어를 선택하는 과정에서 나는 서버개발자는 뭘 개발하는거지…?라는 생각이 강했다.<br /> 결국 웹 어플리케이션에서 많이 사용하는 Node.js로 선택했다.<li>데이터베이스는 어떤 것을 선택할 것인가?<br /> Node.js를 공부하는 도중에 mongoose를 활용해서 MongoDB와 연결하는 것을 자주 접했다. 이전에 프로젝트로 MongoDB를 구축해 본 경험도 있어서 MongoDB로 선택했다.<li>과 자치비 지불여부를 확인해서 약 1000여명의 데이터베이스를 구축해야한다.<br /> 작년 1학기 기준으로 우리 과는 전체 인원이 약 960여명이 재학중이었다. 평균적으로 1학기에 1000여명이 재학 등록을 한다는 것이다. 물론 나는 작년과 올해 학생회 간부(前부비상대책위원장, 올해 現비상대책위원장)라 과자치비 납부 여부 자료에 접근이 가능하다. 해당 자료가 엑셀 자료인데, 그 데이터를 파이썬으로 읽어와서 파싱 후 MongoDB에 저장할 예정이다. (이 부분은 좀 테스트를 해봐야 할 듯)</ol><h1 id="어플리케이션-설계">어플리케이션 설계</h1><p>우선 개발은 Node.js로 진행하고 Node.js 개발 프레임워크인 Express.js를 사용할 것이다. 전체적인 프론트엔트는 ejs를 사용할 예정이다.</p><h2 id="프로젝트-구조">프로젝트 구조 <a href="#프로젝트-구조" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>서버 개발과정을 알아보던 도중 폴더와 파일 구조 설계가 중요하다는 것을 알았다. 하지만 이 부분을 자세히 알기엔 우선은 개발을 목적으로 한 것이라 대략적인 폴더 구성을 했다. 완성된 후 설계 구조를 공부하고 리팩토링을 해야할 듯 하다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>Cabinet-Project
├─ server.js
├─ config
├─ models
│   ├─ cabinet_info.js
│   └─ user.js
├─ package.json
├─ node_modules
├─ public
│   ├─ images
│   └─ css
│       └─ style.css
├─ routes
│   └─ index.js
└─ views
</pre></table></code></div></div><p>기본적이 프로젝트 구조는 이렇게 설정했다. 초기 구조는 이렇게 했고 이후에 변하게 될 경우 변한 지점 포스팅에 남겨둘 예정이다.<br /> 대부분의 API는 routs/index.js에 구현을 할 예정이다.</p><h2 id="front-end">Front End <a href="#front-end" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>우선 프론트 엔드 개발 옵션은 자세한 html과 CSS 구현은 너무 시간소모가 커서 bootstrap을 사용했다. 또한 모든 파일이 ejs이므로 중간중간에 코드를 삽입해서 진행할 예정이다. 부트스트랩으로 레이아웃을 가져오고 일부 레이아웃을 살짝 수정했다.</p><p><img data-src="/image/cabinet/day1/frontend.png" alt="" data-proofer-ignore></p><p>따로 계정 로그인이 필요하진 않으므로 이름과 학번정보만 가져오면된다.</p><h2 id="back-end">Back End <a href="#back-end" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>이번 토이프로젝트의 핵심이다. 우선 개발 1일차에 활용한 백엔드 옵션은 아래와 같다.</p><h3 id="modules">Modules <a href="#modules" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>개발 1일차에 사용한 모듈은 아래와 같다. 원래 hash key를 활용한 비밀번호 암호화를 위해 crypto를 설치했지만 실제로 사용할 지는 아직 고려중인 상황이다. 굳이 사용한다면 학번정보를 암호화하지 않을까 생각중이다.</p><ol><li>express<li>body-parser<li>express-session<li>mongoose</ol><p>해당 옵션들을 npm으로 설치해서 진행했다.</p><div class="language-sh highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span>npm <span class="nb">install</span> <span class="nt">--save</span> express body-parser express-session mongoose
</pre></table></code></div></div><h3 id="models">Models <a href="#models" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>이번 프로젝트에 사용되는 DTO들을 선언한 폴더이다. 기본적으로 학생정보를 갖는 <code class="language-plaintext highlighter-rouge">user.js</code>와 사물함 소유 정보를 저장하는 <code class="language-plaintext highlighter-rouge">cabinet_info.js</code>로 구성되어있다.</p><p>&lt; user.js &gt;</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">mongoose</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">mongoose</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Schema</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">Schema</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">userSchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Schema</span><span class="p">({</span>
  <span class="na">studentID</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">Number</span><span class="p">,</span> <span class="na">unique</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
  <span class="na">name</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
  <span class="na">isPay</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">Boolean</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
  <span class="na">isAdmin</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">Boolean</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
<span class="p">});</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">mongoose</span><span class="p">.</span><span class="nx">model</span><span class="p">(</span><span class="dl">"</span><span class="s2">User</span><span class="dl">"</span><span class="p">,</span> <span class="nx">userSchema</span><span class="p">);</span>
</pre></table></code></div></div><p>학생 정보를 저장하는 DTO는 간단한 구성이다. 학번, 이름은 실제로 학생들이 입력한 데이터와 비교하기 위해 존재하고 <code class="language-plaintext highlighter-rouge">isPay</code>는 과자치비를 지불했는지 여부이다. 이후에 사물함을 선택하는 경우에 과자치비 지불을 하지 않은 사람은 선택이 불가능하게 할 것이다. 이 부분 데이터는 사용자에게 제공되거나 노출되는 것은 아니다.<br /> user.js의 정보는 user collection에 저장된다.</p><h3 id="indexjs-api">index.js (API) <a href="#indexjs-api" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>1일차에 개발한 API는 로그인 페이지 로드 API와 로그인을 진행할 때 데이터베이스에서 해당 입력 데이터를 잘 가져오는지 확인하는 작업을 진행했다.</p><p>&lt; Login Page API &gt;</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">sess</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">session</span><span class="p">;</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="dl">"</span><span class="s2">index</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>
</pre></table></code></div></div><p>로그인 페이지를 기본적으로 로드하는 API이다. 요청의 session값이 가져와지면 해당 값을 저장한다. 향후 로그인 이후 페이지에서 사용될 경우를 대비해서 선언했다.<br /> views 폴더에 있는 index.ejs파일을 render로 응답해주는 간단한 API이다 페이지 로드이므로 GET방식을 사용했다.</p><p>&lt; Create User API &gt;</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">/create/user</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">User</span><span class="p">();</span>
  <span class="nx">user</span><span class="p">.</span><span class="nx">studentID</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">studentID</span><span class="p">;</span>
  <span class="nx">user</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="nx">user</span><span class="p">.</span><span class="nx">isPay</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">isPay</span><span class="p">;</span>

  <span class="nx">user</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">funciotn</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
      <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="na">result</span> <span class="p">:</span> <span class="mi">0</span><span class="p">});</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="na">result</span><span class="p">:</span><span class="mi">1</span><span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><p>POST 방식으로 전달하지만 실제 배포에는 구현하지 않을 API이다. 단순 테스트와 개발을 위해서 만든 API이다.</p><p>&lt; Login API &gt;</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">/login</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">notUser</span> <span class="o">=</span>
    <span class="dl">'</span><span class="s1">&lt;script type="text/javascript"&gt;alert("존재하지 않는 학생입니다."); window.location="/";&lt;/script&gt;</span><span class="dl">'</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">currID</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">studentID</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">currName</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>

  <span class="nx">User</span><span class="p">.</span><span class="nx">findOne</span><span class="p">({</span><span class="na">studentID</span><span class="p">:</span> <span class="nx">currID</span><span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">notUser</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
          <span class="s2">`student id: </span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">studentID</span><span class="p">}</span><span class="s2">, name: </span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">, isPay:</span><span class="p">${</span><span class="nx">user</span><span class="p">.</span><span class="nx">isPay</span><span class="p">}</span><span class="s2">`</span>
        <span class="p">);</span>

        <span class="nx">res</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})</span>
<span class="p">})</span>
</pre></table></code></div></div><p>우선 로그인 테스트 개발이라 콘솔에 데이터가 잘 불러와 지는지 테스트를 진행했다.</p><h1 id="1일차-소감">1일차 소감</h1><p>우선 백엔드 개발자는 뭘 개발하는지 하나도 몰랐다. 막연히 백엔드 개발자, 데이터 사이언티스트가 꿈이라고 했지만 백엔드 개발자는 그냥 데이터베이스 다루는 거 말곤 아는게 없었다.<br /> 그런데 이번에 토이 프로젝트를 진행하면서 가장 중요한 백엔드 개발자의 업무를 알았는데, 바로 API 개발이었다.<br /> 이번 토이 프로젝트가 좀 더 백엔드 개발자로서 기본 소양을 키울 수 있는 기회가 되면 좋겠다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/project/'>Project</a>, <a href='/categories/inha-cabinet/'>Inha Cabinet</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/project/" class="post-tag no-text-decoration" >project</a> <a href="/tags/node-js/" class="post-tag no-text-decoration" >Node.js</a> <a href="/tags/mongodb/" class="post-tag no-text-decoration" >MongoDB</a> <a href="/tags/backend/" class="post-tag no-text-decoration" >BackEnd</a> <a href="/tags/fullstack/" class="post-tag no-text-decoration" >FullStack</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발 - Coding Gallery&url=https://cow-coding.github.io/posts/cabinet1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발 - Coding Gallery&u=https://cow-coding.github.io/posts/cabinet1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Cabinet Project] 사물함 배정 프로그램 개발일지 1 - 로그인 화면, API 개발 - Coding Gallery&url=https://cow-coding.github.io/posts/cabinet1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/coursera2_3/">[MLOps Specialization / Step2] Labeling Data</a><li><a href="/posts/module/">[BoostCamp AI Tech / 심화포스팅] torch.nn.Module 뜯어먹기</a><li><a href="/posts/list/">[Deep Dive Python] 2. List</a><li><a href="/posts/variable/">[Deep Dive Python] 1. Python의 객체와 변수 개념</a><li><a href="/posts/final7/">[BoostCamp AI Tech / Final] Day91 - Airflow setting 및 배치 파이프라인 설계</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ai-tech/">AI Tech</a> <a class="post-tag" href="/tags/boostcamp/">BoostCamp</a> <a class="post-tag" href="/tags/naver/">NAVER</a> <a class="post-tag" href="/tags/deep-learning/">Deep Learning</a> <a class="post-tag" href="/tags/mlops/">MLOps</a> <a class="post-tag" href="/tags/data-engineering/">Data Engineering</a> <a class="post-tag" href="/tags/project/">Project</a> <a class="post-tag" href="/tags/basic/">Basic</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/recommender-system/">Recommender System</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/cabinet2/"><div class="card-body"> <em class="timeago small" date="2021-02-07 00:00:00 +0900" >Feb 7, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Cabinet Project] 사물함 배정 프로그램 개발일지 2 - 사물함 정보 및 신청 API 개발</h3><div class="text-muted small"><p> Front End 설계 재구성 보안을 위해 대부분의 API는 POST방식을 선택했다. 하지만 그래도 페이지 링크를 통한 페이지 이동이 진행되면 보안 상에 문제가 있을 수 있다고 생각한다. 그래서 동일 페이지에서 body값만 변경되게 설정했다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 &amp;lt;html&amp;gt; &amp;lt;h...</p></div></div></a></div><div class="card"> <a href="/posts/MDB1/"><div class="card-body"> <em class="timeago small" date="2020-08-19 00:00:00 +0900" >Aug 19, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Medipush Project] MongoDB</h3><div class="text-muted small"><p> 시작하며 몽고DB를 설치하고 활용하는 과정에서 GUI프로그램으로 Robo 3T를 사용하게된다. 기본적으로 파이썬 프로그래밍이나 DB를 다룰 때 사용되는 콘솔 명령어를 Robo 3T에서도 사용이 가능하지만, GUI 프로그램이므로 클릭으로도 형성이 가능한 경우가 많다. MongoDB 데이터베이스 생성방식 비콘솔 방식 위의 사진처럼 PC서버를 연결하...</p></div></div></a></div><div class="card"> <a href="/posts/medipush/"><div class="card-body"> <em class="timeago small" date="2020-08-21 00:00:00 +0900" >Aug 21, 2020</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Medipush Project] AWS connect</h3><div class="text-muted small"><p> 시작하며 기초적인 MongoDB 사용도 알았으니 이제 AWS 서버랑 연결해서 데이터베이스 구축을 해보자. 전체적인 구축 방식은 Google colab을 활용해서 의약품안전나라에 있는 의약품 정보를 크롤링해서 데이터베이스를 구축할 예정이다. 데이터베이스 저장위치는 AWS EC2를 활용할 예정이고 팀원 중 서버담당을 맡는 친구가 이미 AWS EC2 세...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/7576/" class="btn btn-outline-primary" prompt="Older"><p>[BOJ] 7576 토마토</p></a> <a href="/posts/cabinet2/" class="btn btn-outline-primary" prompt="Newer"><p>[Cabinet Project] 사물함 배정 프로그램 개발일지 2 - 사물함 정보 및 신청 API 개발</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://cow-coding.github.io/posts/cabinet1/'; this.page.identifier = '/posts/cabinet1/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://cow-coding.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/cow-coding">Park Kibum</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ai-tech/">AI Tech</a> <a class="post-tag" href="/tags/boostcamp/">BoostCamp</a> <a class="post-tag" href="/tags/naver/">NAVER</a> <a class="post-tag" href="/tags/deep-learning/">Deep Learning</a> <a class="post-tag" href="/tags/mlops/">MLOps</a> <a class="post-tag" href="/tags/data-engineering/">Data Engineering</a> <a class="post-tag" href="/tags/project/">Project</a> <a class="post-tag" href="/tags/basic/">Basic</a> <a class="post-tag" href="/tags/python/">Python</a> <a class="post-tag" href="/tags/recommender-system/">Recommender System</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-163727422-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-163727422-1'); }); </script>
